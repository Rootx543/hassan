<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IPTV Checker</title>
    <style>
        /* Your existing styles here */
    </style>
    <!-- Include BlockAdBlock library -->
    <script src="https://cdn.jsdelivr.net/npm/blockadblock@3.6.0/dist/blockadblock.js"></script>
</head>
<body>
    <h1>IPTV URL Checker</h1>
    <label for="iptvUrl">Enter IPTV URL:</label>
    <input type="text" id="iptvUrl" placeholder="http://example.com/playlist.m3u8">
    <button onclick="checkAndDisplayExpiration()">Check & Display Expiration</button>
    <p id="result"></p>
    <p id="expiration"></p>

    <div id="adBlockMessage">
        <p>Please disable your ad blocker to use this service. If you need assistance, check our <a href="#">help page</a>.</p>
    </div>

    <script>
        // Function to check if an ad blocker is active using BlockAdBlock library
        function checkAdBlocker() {
            // ... (unchanged)
        }

        // Check for ad blockers on page load
        window.onload = function () {
            checkAdBlocker();
        };

        // Function to check and display IPTV URL expiration
        function checkAndDisplayExpiration() {
            var urlInput = document.getElementById('iptvUrl').value;
            var resultElement = document.getElementById('result');
            var expirationElement = document.getElementById('expiration');

            if (urlInput.trim() === '') {
                resultElement.textContent = 'Please enter a valid IPTV URL.';
                expirationElement.textContent = '';
                return;
            }

            // Extract expiration date from the URL (replace this logic with your actual implementation)
            var expirationDate = extractExpirationDate(urlInput);

            if (expirationDate) {
                resultElement.textContent = 'IPTV URL is valid.';
                expirationElement.textContent = 'Expiration Date: ' + expirationDate;
            } else {
                resultElement.textContent = 'Invalid IPTV URL.';
                expirationElement.textContent = '';
            }
        }

        // Function to extract expiration date from the URL (replace this logic)
        function extractExpirationDate(url) {
            // Example: if expiration date is part of the URL, extract it
            // Modify this logic based on your actual URL structure
            // This is just a placeholder/example
            var match = url.match(/expiration=(\d{4}-\d{2}-\d{2})/);
            return match ? match[1] : null;
        }
    </script>
</body>
</html>
